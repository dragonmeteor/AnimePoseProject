<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>MMD Characters</title>
	<script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
	<script type="text/javascript" src="chars_and_images.js"></script>
</head>
<body>
	<h1>MMD Characters</h1>

	<table id="main_table" border="1">		
	</table>

	<script type="text/javascript">
		var currentIndex = 0

		function imageTag(index) {
			if (index < data.length)
				return "<img width=200 height=200 src=\"" + data[index].image_name + "\" />" +
					"<br/>" + index +
					"<br/><textarea>" + data[index].file_name + "</textarea>";
			else
				return "&nbsp;";
		}

		function lastPostFunc() {			
			var text = "";
			if (currentIndex < data.length) {
				text+="<tr>"
				for (var i=0;i<4;i++) {
					text += "<td align=\"center\">" + imageTag(currentIndex+i) + "</td>";
				}				
				text += "</tr>";
				$("#main_table").append(text);
				currentIndex += 4;
			}
		}

		$(window).scroll(function() {
        	if ($(window).scrollTop() == $(document).height() - $(window).height()) {
           		lastPostFunc();           		
        	}
		});
		
		for(var i=0;i<20;i++)
			lastPostFunc();
	</script>	
</body>
</html>